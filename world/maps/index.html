<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maps | Empire Rewritten</title>
  <meta name="description" content="Explore campaign and city maps from Empire Rewritten.">
  <meta property="og:title" content="Empire Rewritten Maps">
  <meta property="og:description" content="Travel through campaign routes and city layouts.">
  <meta property="og:image" content="../../assets/img/og-default.webp">
  <link rel="stylesheet" href="../../assets/css/site.css">
  <link rel="icon" href="../../favicon.ico">
  <style>
    /* Desktop: align title/buttons/description to the same centered width as the map image */
    @media (min-width: 720px) {
      .map-block {
        max-width: 80%;
        margin-left: auto;
        margin-right: auto;
      }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <div class="utility-links">
        <a href="../../index.html#newsletter" class="nav-link">Join Newsletter</a>
      </div>
      <div class="brand">
        <a href="../../index.html" aria-label="Return to the Empire Rewritten home page">
          <img src="../../assets/img/ER%20BAN.png" class="brand-logo" alt="Empire Rewritten logo">
        </a>
      </div>
      <div class="utility-links">
        <a href="../../search/index.html" class="nav-link">Search</a>
        <a class="btn secondary" data-link="patreonUrl" href="#" aria-disabled="true">Patreon</a>
      </div>
    </div>
    <nav aria-label="Primary">
      <button class="menu-toggle" aria-label="Toggle navigation">
        <span></span><span></span><span></span>
      </button>
      <ul class="nav-links">
        <li><a href="../../books/index.html">Books</a></li>
        <li><a href="../index.html">World</a></li>
        <li><a href="../../news/index.html">News</a></li>
        <li><a href="../../about/index.html">About</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="section">
      <p class="tag">Cartography</p>
      <h1>Maps & Territories</h1>
      <p>Trace the routes, chambers, and borders. Patreon readers get deeper annotations and downloadable layers.</p>
    </section>

    <section class="section">
      <p class="tag">World Maps</p>
      <div class="card">
        <div class="map-block">
          <h3>World Maps 1428–1433</h3>
          <img id="worldMap"
               src="../../assets/img/1428S%20copy.jpg"
               alt="World map 1428"
               style="width: 100%; height: auto; border-radius: var(--radius);" />
          <div class="filters" id="yearFilters" style="margin-top: 12px;">
            <button class="filter-btn active" data-year="1428">1428</button>
            <button class="filter-btn" data-year="1429">1429</button>
            <button class="filter-btn" data-year="1430">1430</button>
            <button class="filter-btn" data-year="1431">1431</button>
            <button class="filter-btn" data-year="1432">1432</button>
            <button class="filter-btn" data-year="1433">1433</button>
          </div>
          <p id="mapDescription" style="margin-top: 12px;">
            1428 — The world as it stands at the opening of our story.
          </p>
        </div>
      </div>
    </section>

    <section class="section">
      <p class="tag">Morea Maps</p>
      <div class="card">
        <div class="map-block">
          <h3>Morea Maps 1428–1433</h3>
          <img id="moreaMap"
               src="../../assets/img/Mor1428%20copy.jpg"
               alt="Morea map 1428"
               style="width: 100%; height: auto; border-radius: var(--radius);" />
          <div class="filters" id="moreaYearFilters" style="margin-top: 12px;">
            <button class="filter-btn active" data-year="1428">1428</button>
            <button class="filter-btn" data-year="1431">1431</button>
            <button class="filter-btn" data-year="1432">1432</button>
            <button class="filter-btn" data-year="1433">1433</button>
          </div>
          <p id="moreaMapDescription" style="margin-top: 12px;">
            The Morea region at the start of our story.
          </p>
        </div>
      </div>
    </section>

    <section class="section">
      <p class="tag">Want more?</p>
      <p>Patreon supporters see additional maps and exclusive material.</p>
      <a class="btn" data-link="patreonUrl" href="#" aria-disabled="true">Unlock on Patreon</a>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      <div>
        <h4>Books</h4>
        <ul>
          <li><a data-link="patreonBook1Url" href="#" aria-disabled="true">Book 1</a></li>
          <li><a data-link="patreonBook2Url" href="#" aria-disabled="true">Book 2</a></li>
        </ul>
      </div>
      <div>
        <h4>World</h4>
        <ul>
          <li><a href="../characters/index.html">Characters</a></li>
          <li><a href="../timeline/index.html">Timeline</a></li>
          <li><a href="index.html">Maps</a></li>
        </ul>
      </div>
      <div>
        <h4>Connect</h4>
        <ul>
          <li><a href="../../index.html#newsletter">Newsletter</a></li>
          <li><a data-link="patreonUrl" href="#" aria-disabled="true">Patreon</a></li>
          <li><a data-link="contactEmail" href="#" aria-disabled="true">Contact</a></li>
          <li><a data-link="socials.twitter" href="#" aria-disabled="true">Socials</a></li>
        </ul>
      </div>
    </div>
    <div class="legal-bar">
      <a href="../../privacy/index.html">Privacy Policy</a> • © Empire Rewritten
    </div>
  </footer>

  <script src="../../assets/js/site.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const mapData = {
        '1428': {
          src: '../../assets/img/1428S%20copy.jpg',
          desc: '1428 — The world as it stands at the opening of our story.'
        },
        '1429': {
          src: '../../assets/img/1429S%20copy.jpg',
          desc: 'No territorial changes this year; leaders consolidate power and prepare for future events.'
        },
        '1430': {
          src: '../../assets/img/1430S%20copy.jpg',
          desc: '1430 — Early: Ioannina falls to the Ottomans. Spring: Thessaloniki falls to the Ottomans.'
        },
        '1431': {
          src: '../../assets/img/1431S%20copy.jpg',
          desc: '1431 — Winter: The Duchy of Achaia falls to Thomas’s forces.'
        },
        '1432': {
          src: '../../assets/img/1432S%20copy.jpg',
          desc: '1432 — Spring: The Duchy of Athens falls to Constantine. The Albanian revolt begins.<br>Fall: Ioannina falls to Ottoman forces.<br>Christmas: Demetrios seizes control of Constantinople in a coup.'
        },
        '1433': {
          src: '../../assets/img/1433S%20copy.jpg',
          desc: '1433 — Spring: Zakynthos falls to Constantine. Summer: Livadeia and Zetouni fall to Constantine.'
        }
      };

      const mapImg = document.getElementById('worldMap');
      const description = document.getElementById('mapDescription');
      const buttons = document.querySelectorAll('#yearFilters .filter-btn');

      buttons.forEach(btn => {
        btn.addEventListener('click', function() {
          const year = this.dataset.year;

          mapImg.src = mapData[year].src;
          mapImg.alt = 'World map ' + year;
          description.innerHTML = mapData[year].desc;

          buttons.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
        });
      });

      const moreaMapData = {
        '1428': {
          src: '../../assets/img/Mor1428%20copy.jpg',
          desc: 'The Morea region at the start of our story.'
        },
        '1431': {
          src: '../../assets/img/Mor1431%20copy.jpg',
          desc: 'This year sees the first stirrings of conflict in Morea.'
        },
        '1432': {
          src: '../../assets/img/Mor1432%20copy.jpg',
          desc: 'Battles rage in Morea as factions vie for control.'
        },
        '1433': {
          src: '../../assets/img/Mor1433%20copy.jpg',
          desc: 'After years of struggle, Morea is transformed by new powers.'
        }
      };

      const moreaImg = document.getElementById('moreaMap');
      const moreaDescription = document.getElementById('moreaMapDescription');
      const moreaButtons = document.querySelectorAll('#moreaYearFilters .filter-btn');

      moreaButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          const year = this.dataset.year;

          moreaImg.src = moreaMapData[year].src;
          moreaImg.alt = 'Morea map ' + year;
          moreaDescription.textContent = moreaMapData[year].desc;

          moreaButtons.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
        });
      });
    });
  </script>
</body>
</html>
